<configuration>
    <!-- Insert the current time formatted as "yyyyMMdd'T'HHmmss" under the key "bySecond" into the logger context. This value will be available to all subsequent configuration elements -->
    <timestamp key="bySecond" datePattern="yyyyMMdd'T'HHmmss"/>

    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender"> <!-- out.console -->
        <!-- encoders are assigned next type by default "ch.qos.logback.classic.encoder.PatternLayoutEncoder" -->
        <encoder>
            <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} -%kvp- %msg%n</pattern>
            <!-- <pattern>%date %level %logger{10} [%file:%line] %msg%n</pattern> -->
        </encoder>
    </appender>

    <appender name="FILE" class="ch.qos.logback.core.FileAppender"> <!-- out.filePath -->
        <file>test_logs/log-${bySecond}.log</file>
        <!-- <append>false</append> -->
        <!-- set immediateFlush to false for much higher logging throughput -->
        <!-- <immediateFlush>true</immediateFlush> -->
        <maxHistory>5</maxHistory> <!-- keep log file 5 days -->
        <totalSizeCap>10GB</totalSizeCap> <!-- max total size 10 GB -->
        <!-- encoders are assigned next type by default "ch.qos.logback.classic.encoder.PatternLayoutEncoder" -->
        <encoder>
            <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} -%kvp- %msg%n</pattern>
            <!-- <pattern>%date %level %logger{10} [%file:%line] %msg%n</pattern> -->
        </encoder>
    </appender>

    <root level="info"> <!-- levels logging -> off/server/warning/info/debug/all  -->
        <appender-ref ref="FILE" /> <!-- out.filePath -->
        <!-- <appender-ref ref="STDOUT" /> --> <!-- out.console -->
    </root>

</configuration>